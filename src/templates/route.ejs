
import { FastifyPluginAsyncTypebox } from '@fastify/type-provider-typebox';

  import <%= name %>Controller from '<%= importPathController%>';
  import {
    Create<%= model %>Schema,
    Update<%= model %>Schema,
    Delete<%= model %>Schema,
  } from '<%= importPathSchema%>';
  
  const <%= name %>RoutePlugin: FastifyPluginAsyncTypebox = async (server) => {
    const path = '/<%= name %>';
  
    // Create
    server.post(`${path}`, { schema: Create<%= model %>Schema }, <%= name %>Controller.<%= name %>Create);
  
    // Update
    server.put(
      `${path}/:id`,
      {
        schema: Update<%= model %>Schema,
      },
      <%= name %>Controller.<%= name %>Update
    );
    //  Delete
    server.delete(
      `${path}/:id`,
      {
        schema: Delete<%= model %>Schema,
      },
      <%= name %>Controller.<%= name %>Delete
    );
  };
  
  export default <%= name %>RoutePlugin;
