
import { FastifyPluginAsyncTypebox } from '@fastify/type-provider-typebox';

  import <%= name %>Controller from '<%= importPathController%>';
  import {
    createSchema,
    deleteSchema,
    updateSchema,
  } from '<%= importPathSchema%>';
  
  const <%= name %>RoutePlugin: FastifyPluginAsyncTypebox = async (server) => {
    const path = '/<%= name %>';
  
    // Create
    server.post(`${path}`, { schema: createSchema }, <%= name %>Controller.<%= name %>Create);
  
    // Update
    server.put(
      `${path}:id`,
      {
        schema: updateSchema,
      },
      <%= name %>Controller.<%= name %>Update
    );
    //  Delete
    server.delete(
      `${path}:id`,
      {
        schema: deleteSchema,
      },
      <%= name %>Controller.<%= name %>Delete
    );
  };
  
  export default <%= name %>RoutePlugin;
